#SET{dates,#ARRAY}
<BOUCLE_disponibilite_dates(OBJETS_LOCATIONS objets_locations_details)
	{id_objets_location!=$dates_utilisees}
	{objet}
	{id_objet}>
	
	[(#DATE_DEBUT|!={#DATE_FIN}|?{
		#SET{nombre_dates,#DATE_DEBUT|dates_intervalle{#DATE_FIN,#ENV{debut,0},0,#ENV{horaire}}}
		#SET{dates,#GET{dates}|array_merge{#GET{nombre_dates}}}
		,
		[(#ENV{horaire}|?{
			#SET{dates,#GET{dates}|push{#DATE_DEBUT}},
			#SET{dates,#GET{dates}|push{#DATE_DEBUT|affdate{Y-m-d}}}
		})]
	})]
</BOUCLE_disponibilite_dates>
[(#GET{dates}|serialize)]